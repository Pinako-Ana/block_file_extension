# 플로우 과제 - 확장자 차단 서비스

## 과제 설명

파일 확장자 차단 과제 설명
어떤 파일들은 첨부시 보안에 문제가 될 수 있습니다. 특히 exe, sh 등의 실행파일이 존재할 경우 서버에 올려서 실행이 될 수 있는 위험이 있어 파일 확장자 차단을 하게되었습니다.


## 과제 수행
- 확장자 차단 서비스에서 백엔드를 구축하였습니다.

## 기능 정의서
[링크](https://docs.google.com/spreadsheets/d/1wJrjy-_uWt5GwoIRuSjbGq0mXLt0ISoVRYQeUHApVPs/edit?usp=sharing)

## ERD
<img width="893" alt="스크린샷 2023-02-26 오후 6 11 33" src="https://user-images.githubusercontent.com/31895069/221401836-568ea626-d674-4701-9daf-66b131ea6b6a.png">


## 사용한 기술 스택
- Java 17
- Spring Boot 3.0.3
- MariaDB 10.11.2


## 과제 내용
### 1. 고정 확장자 리스트를 반환해주는 getFixedExtensions 메소드를 생성하였습니다.
각 확장자의 이름, 인덱스, 현재 체크 상태 3가지를 반환해줍니다.

### 2. 고정 확장자 상태를 변경하는 changeExtensionState 메소드를 생성하였습니다.
해당하는 확장자의 인덱스를 보내 체크상태를 DB에 저장합니다.

### 3. 커스텀 확장자를 추가하는 saveCustomExtension 메소드를 생성하였습니다.
커스텀 확장자 이름을 pathvariable로 보내면 서버에서 중복 검사 후 해당 확장자를 DB에 저장합니다.

### 4. 커스텀 확장자 리스트를 반한하는 getCustomExtensions 메소드를 생성하였습니다.
고정 확장자 리스트 반환 메소드와 유사합니다. 

### 5. 커스텀 확장자를 삭제하는 deleteCustomExtension 메소드를 생성하였습니다.
커스텀 확장자의 인덱스를 path variable로 보내어 DB에서 삭제 합니다.

## 추가 내용

isExist메소드를 통해 중복되는 확장자 이름이 있는지 확인 할 수 있습니다.


## discussion
- 최종 수정일, 최종 수정자, 생성자, 생성일은 구축하지 못하였습니다. 구축한다면 baseEntity 객체를 만들어 상속을 통해 구현하려 하였습니다.
- 고정 확장자 상태 변경 부분에서 체크의 의미를 같이 전달하는게 좋은것인지 궁금합니다. 현재 코드는 DB에 저장된 값의 반대값으로 변경됩니다. 만약 두 번 연속으로 체크박스를 눌렀을 때 1번째 호출이 서버로 전달이 되지 않고 2번째 호출만 전달되었다면
사용자 입장에서는 두 번을 눌러서 원래 상태로 돌아온것이겠지만 새로고침을 누른다면 체크한 상태로 되어있을 것입니다. 
이런 문제가 발생 할 수 있으므로 체크의 의미("checked", "unchecked")를 같이 전달하는 방법이 더 좋을지 궁금합니다.
